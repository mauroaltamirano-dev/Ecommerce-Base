<h1 style="text-align: center; margin-bottom: 2rem;">🛍️ Catálogo de Productos</h1>

<form method="get" style="margin-bottom: 2rem; text-align: center;">
  <label for="categoria">Filtrar por categoría:</label>
  <select name="categoria" id="categoria" onchange="this.form.submit()">
    <option value="">Todas las categorías</option>
    {{#each categorias}}
      <option value="{{this}}" {{#ifEquals ../categoriaSeleccionada this}}selected{{/ifEquals}}>{{this}}</option>
    {{/each}}
  </select>
</form>


<div class="grid-productos">
  {{#each productos}}
    <div class="card-producto" data-pid="{{this._id}}">
      <img src="{{this.image}}" alt="Imagen de {{this.title}}" class="producto-img" />
      <h3>{{this.title}}</h3>
      <p class="precio">${{formatNumber this.price}}</p>
      {{#if (gt this.stock 0)}}
        <button class="btn-add" data-pid="{{this._id}}">🛒 Agregar al carrito</button>
      {{else}}
        <button class="btn-add disabled" disabled>❌ Sin stock</button>
      {{/if}}
    </div>
  {{/each}}
</div>

<script src="/js/global.js"></script>
<script src="/js/home.js"></script>